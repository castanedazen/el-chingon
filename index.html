<style>
  :root{ --rojo:#e11d48; --verde:#16a34a; --blanco:#ffffff; --negro:#111827; --azul:#1f3fb7; --amarillo:#f59e0b; }

  html,body{height:100%;margin:0;background:#fff;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--negro)}
  .wrap{max-width:1100px;margin:0 auto;padding:12px}

  /* DESKTOP / TABLET (default) â€” your original layout */
  header{display:flex;flex-wrap:wrap;align-items:center;gap:10px;justify-content:space-between}
  h1{margin:0;font-size:clamp(20px,3.5vw,34px);color:var(--rojo);text-shadow:0 2px 0 #fff}
  .btn{cursor:pointer;border:2px solid var(--negro);border-radius:12px;padding:.45rem .8rem;font-weight:800;background:#fff;box-shadow:2px 3px 0 var(--negro)}
  .grid{display:grid;grid-template-columns:1fr 320px;gap:12px}

  canvas{
    width:100%;
    aspect-ratio:4/3;
    border:4px solid var(--negro);border-radius:16px;box-shadow:6px 8px 0 var(--negro);
    background:#fff;
  }

  .col{display:flex;flex-direction:column;gap:10px}
  .kbd{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
  .kbd .btn{font-size:18px;padding:14px 10px}

  .status{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
  .tag{border:2px solid var(--negro);background:#fff;padding:.25rem .5rem;border-radius:10px;font-weight:700}
  .hist{background:#fff;border:2px solid var(--negro);border-radius:14px;padding:10px;max-height:340px;overflow:auto}
  table{border-collapse:collapse;width:100%} th,td{border:1px solid #ddd;padding:6px 8px;font-size:12px;text-align:center}
  th{background:#f3f4f6;position:sticky;top:0}
  .toast{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .toast span{font-weight:900;font-size:clamp(22px,4.5vw,40px);background:rgba(255,255,255,.92);border:4px solid var(--negro);
              padding:.6rem 1rem;border-radius:16px;box-shadow:6px 8px 0 var(--negro)}
  .overlay{position:absolute;inset:0;display:none;align-items:center;justify-content:center;text-align:center;padding:16px;background:rgba(255,255,255,.9)}
  .overlay > div{background:#fff;border:3px dashed var(--rojo);border-radius:14px;padding:12px;max-width:560px}
  details summary{cursor:pointer}

  /* ===== MOBILE overrides ===== */
  @media (max-width: 900px){
    /* stack everything vertically, give canvas most of the screen */
    .grid{display:flex;flex-direction:column;gap:10px}
    canvas{
      height:72vh;          /* game takes ~70% of the viewport height */
      aspect-ratio:auto;    /* let height control it on phones */
    }

    /* smaller buttons */
    .btn{font-size:14px;padding:6px 10px;border-radius:10px;box-shadow:3px 4px 0 var(--negro)}
    .kbd .btn{font-size:16px;padding:10px}

    /* float the D-pad at the bottom, centered */
    .kbd{
      position:fixed;
      left:50%; transform:translateX(-50%);
      bottom: max(8px, env(safe-area-inset-bottom));
      grid-template-columns:repeat(3,64px);
      gap:8px;
      padding:6px 8px;
      background:rgba(255,255,255,0.85);
      border:2px solid var(--negro);
      border-radius:12px;
      box-shadow:4px 5px 0 var(--negro);
      z-index:10;
    }

    /* keep status + history readable but compact */
    .status{gap:6px}
    .tag{font-size:14px}
    .hist{max-height:280px}
    /* make room so fixed controls don't cover content when scrolling */
    body{padding-bottom:110px}
  }
</style>
